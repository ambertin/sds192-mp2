---
title: "Mini Project 2"
author: "Audrey Bertin"
date: "10/23/2017"
output: html_document
---
### Loading The Data

```{r, message = FALSE}
library(tidyverse)

load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
load("individuals.rda")
```


```{r}

donations_to_committees <- committees %>% 
  inner_join(individuals, by = "cmte_id") %>%
  select(cmte_id, cmte_name, cmte_party_affiliation, occupation, transaction_amt)
```


jobs <- c("PHYSICIAN", "ATTORNEY", "EXECUTIVE", "REALTOR", "SMALL BUSINESS OWNER" "TEACHER","NOT EMPLOYED", "HOMEMAKER")

```{r}
occupations <- donations_to_committees %>%
  select(occupation) %>%
  group_by(occupation) %>%
  summarize(num = n())

```


```{r}
individual_contributions <- contributions %>% inner_join(individuals, by = "cmte_id") %>%
  select(cmte_id, cmte_name, cmte_party_affiliation, occupation, transaction_amt, cand_id)

occupation_donations <- function(job) {
  donations_to_committees %>%
  filter(occupation == job) %>%
  group_by(occupation) %>%
  summarize(total_donated = sum(transaction_amt), avg_donated = mean(transaction_amt), median_donation = median(transaction_amt), num_donations = n()) }
```

